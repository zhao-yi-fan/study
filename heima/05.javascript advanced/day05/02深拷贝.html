<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        var obj1 = {
            age: 10,
            sex: "男",
            car: ["奔驰", "宝马", "比亚迪"],
            odg: {
                name: "大黄",
                color: "黑白色"
            }
        };
        var obj2 = {};
        //创建深拷贝函数,先遍历每一个a属性的同时,判断a属性是什么类型,在此类型下面拷贝到b对象的对应的属性中.
        function extend(a, b) {

            for (var key in a) {
                //先说明,key是属性,a[key]或者是b[key]这种形式是属性值!!!
                if (a[key] instanceof Array) {//a对象 属性是数组类型
                    b[key] = [];
                    extend(a[key], b[key]);//递归,把两个对应的属性的值,重新调用函数,
                    //意思是和把obj1,obj2传入是相同的,进入函数会去第三种情况,直接是普通的值. 会是 b[数组类属性的名字][key] = a[数组类属性的名字][key];

                } else if (a[key] instanceof Object) {//a对象 属性是对象类型
                    b[key] = {};
                    extend(a[key], b[key]);
                } else {//a对象 属性是普通的值,直接复制到对应的属性中
                    b[key] = a[key];
                }
            }
        }

        extend(obj1, obj2);
        console.dir(obj1);
        console.dir(obj2);

    </script>
</body>

</html>